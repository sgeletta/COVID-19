Data work.TSTCBDTHSUMOUT(drop=datel);
retain dates;
set work.tcbsadthsum;
Dates = input(datel, MMDDYY12.);
weeks = week(dates);
run;
/* -------------------------------------------------------------------
   Sort data set WORK.TSTATESUM
   ------------------------------------------------------------------- */
PROC SORT
	DATA=WORK.TSTCBDTHSUMOUT(KEEP=dates Cases1 cbsacod)
	OUT=WORK.SORTTempcbsadthSorted
	;
	BY  dates;
RUN;
%_sas_pushchartsize(1280,760);
SYMBOL1
	INTERPOL=JOIN
	HEIGHT=10pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL1
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL2
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL3
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL4
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL5
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL6
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL7
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL8
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL9
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL10
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL11
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL12
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL13
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL14
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL15
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL16
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL17
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL18
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL19
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
SYMBOL20
	INTERPOL=JOIN
	HEIGHT=8pt
	VALUE=NONE
	LINE=1
	WIDTH=2

	CV = _STYLE_
;
Legend1
	FRAME
	;
Axis1
	STYLE=1
	WIDTH=1
	/*ORDER=(0 100 200 300 400 500 600 700 800 900 1000 )	*/
	MINOR=NONE
	LABEL=( HEIGHT=8pt   "Incidence")
	VALUE=(HEIGHT=8pt )


;
Axis2
	STYLE=1
	WIDTH=1
	MINOR=NONE
	LABEL=( HEIGHT=8pt)
	VALUE=(HEIGHT=8pt )


;
TITLE;
TITLE1 "Incidence Plot";
FOOTNOTE;
PROC GPLOT DATA = WORK.SORTTempcbsadthSorted
 NOCACHE ;
PLOT Cases1 * dates 	 =cbsacod
 /
 	VAXIS=AXIS1

	HAXIS=AXIS2

FRAME	LEGEND=LEGEND1
;
	format cbsacod $cbfmt. dates mmddyy8.;

/* -------------------------------------------------------------------
   End of task code
   ------------------------------------------------------------------- */
RUN; QUIT;
%_eg_conditional_dropds(WORK.SORTTempTableSorted);
TITLE; FOOTNOTE;
GOPTIONS RESET = SYMBOL;

